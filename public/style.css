*{box-sizing:border-box}
:root{--bg:#0b0f19;--panel:#111626;--text:#e6ebff;--muted:#9aa4c7;--accent:#72a0ff;--glow:#72a0ff55;--danger:#ff6b6b}
html,body{height:100%}
body{margin:0;background:radial-gradient(1200px 800px at 70% -20%,#16203f 0%,#0b0f19 40%,#070b13 100%);color:var(--text);font:16px/1.5 Inter,system-ui,Segoe UI,Roboto,Arial}
button,select,input,textarea{font:inherit;color:inherit}
.primary{background:var(--accent);color:#081022;border:none;padding:.7rem 1rem;border-radius:.8rem;box-shadow:0 0 .8rem .1rem var(--glow);cursor:pointer;transition:transform .15s ease,opacity .15s}
.primary:hover{transform:translateY(-1px)}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;background:#0e1323;border-bottom:1px solid #1b2340;position:sticky;top:0;z-index:5}
.brand{font-weight:800;letter-spacing:.5px}
.modes{display:flex;gap:.5rem}
.mode-btn{background:#121a33;border:1px solid #24305a;padding:.5rem .8rem;border-radius:.6rem;cursor:pointer}
.mode-btn.active{border-color:var(--accent);box-shadow:0 0 0 .1rem #24305a,0 0 .6rem .1rem var(--glow)}
.actions{display:flex;gap:.5rem}
.layout{display:grid;grid-template-rows:1fr auto;height:calc(100vh - 58px)}
.chat{padding:1rem;overflow:auto;display:flex;flex-direction:column;gap:.75rem}
.message{max-width:900px;padding:.8rem 1rem;border-radius:1rem;animation:fadeIn .2s ease}
.message.user{align-self:flex-end;background:#1a223f;border:1px solid #2c3c72}
.message.ai{align-self:flex-start;background:#121a2a;border:1px solid #22305a}
.meta{font-size:.8rem;color:var(--muted);margin-bottom:.25rem}
.composer{display:flex;gap:.5rem;padding:1rem;border-top:1px solid #1b2340;background:#0e1323}
#input{flex:1;min-height:48px;max-height:120px;border-radius:.6rem;border:1px solid #24305a;background:#0b1124;color:var(--text);padding:.7rem;resize:vertical}
.mic{width:12px;height:12px;border-radius:50%;align-self:center;background:#3a445f;box-shadow:0 0 10px #000}
.mic.active{background:#53ffa8;box-shadow:0 0 14px #53ffa8}
/* Modal */
.modal{position:fixed;inset:0;display:grid;place-items:center;background:#0008;backdrop-filter:blur(2px)}
.modal.hidden{display:none}
.modal-card{width:min(560px,92vw);background:#0f1428;border:1px solid #21305a;border-radius:1rem;padding:1rem 1.25rem;box-shadow:0 10px 40px #000}
.modal-card h2{margin:.25rem 0 1rem}
.modal-card label{display:block;margin:.75rem 0 .25rem;color:var(--muted)}
.modal-card select,.modal-card input{width:100%;background:#0a1021;border:1px solid #24305a;border-radius:.5rem;color:var(--text);padding:.6rem}
.modal-actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:1rem}

/* Phase banner */
.phase-banner{position:fixed;left:50%;transform:translateX(-50%);bottom:92px;background:#121a33;border:1px solid #21305a;padding:.5rem 1rem;border-radius:.8rem;box-shadow:0 0 32px #000;opacity:0;pointer-events:none;transition:opacity .25s,transform .25s}
.phase-banner.show{opacity:1;transform:translate(-50%,-6px)}

/* Progress bar */
.progress{height:6px;background:#1a2344;border-radius:6px;overflow:hidden;border:1px solid #2a3766}
.progress-inner{height:100%;width:0;background:linear-gradient(90deg,#6aa1ff,#b280ff);transition:width .2s linear}

/* Animations */
@keyframes fadeIn{from{opacity:0;transform:translateY(3px)}to{opacity:1;transform:none}}
